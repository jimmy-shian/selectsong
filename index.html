<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>歌曲選擇系統</title>
    <link rel="icon" type="image/png" href="img/webicon.svg">
    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-ui@1.13.2/dist/jquery-ui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-ui-touch-punch@0.2.3/jquery.ui.touch-punch.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="container">
        <div class="header">
            <h2>歌曲選擇系統</h2>
            <div class="settings-panel">
                <div class="theme-toggle">
                    <i class="fas fa-sun" id="lightIcon" style="margin-right: 5px;"></i>
                    <label class="switch">
                        <input type="checkbox" id="themeToggle">
                        <span class="slider round"></span>
                    </label>
                    <i class="fas fa-moon" id="darkIcon" style="margin-left: 5px;"></i>
                </div>
                <div class="font-size-control">
                    <span>文字大小:</span>
                    <button class="font-size-btn" id="decreaseFontBtn">A-</button>
                    <button class="font-size-btn" id="increaseFontBtn">A+</button>
                </div>

                <div class="btn-group">
                    <button id="randomSelectBtn" class="btn">隨機選擇</button>
                    <button id="randomSettingBtn" class="btn"><i class="fas fa-caret-down"></i></button>
                    <div id="randomDropdown" class="dropdown-content">
                        <input type="number" id="randomCountInput" min="1" placeholder="請輸入數量">
                        <button id="setRandomCountBtn" class="btn">✔</button>
                    </div>
                </div>

                <button id="viewHistoryBtn" class="btn">歷史記錄</button>
            </div>
        </div>

        <div id="historyPanel" class="panel" style="display: none; margin-bottom: 20px;">
            <div class="panel-header">
                <h2>歷史記錄</h2>
                <button id="closeHistoryBtn" class="btn">關閉</button>
            </div>
            <div id="historyList"></div>
        </div>

        <div class="main-content">
            <div class="panel" id="libraryPanel">
                <div class="panel-header">
                    <h2>曲庫資料</h2>
                </div>
                <div id="searchSection">
                    <div style="position: relative; margin-bottom: 10px;">
                        <input type="text" id="searchInput" name="searchingplace" placeholder="輸入歌名或歌號" autocomplete="off">
                        <button id="clearSearchBtn" style="position: absolute; top: 50%; right: 10px; transform: translateY(-50%); display: none; background: none; border: none; font-size: 20px; cursor: pointer; color: #888; padding: 0 5px; line-height: 1;">&times;</button>
                    </div>
                </div>
                <div id="songList"></div>
            </div>

            <div class="panel" id="selectedPanel">
                <div class="panel-header">
                    <h2>已選歌曲</h2>
                    <button id="saveCurrentBtn" class="btn" onclick="saveToHistory()">保存當前選擇</button>
                </div>
                <div id="selectedSongs"></div>
            </div>
        </div>

        <button id="openAdminPanel" class="btn">管理歌曲</button>

        <div id="adminPanel">
            <h2>歌曲管理</h2>
            <div id="passwordSection">
                <input type="password" id="adminPassword" placeholder="管理密碼">
                <button id="verifyPasswordBtn" class="btn">驗證密碼</button>
            </div>
            <div id="songManagementSection" style="display: none;">
                <div style="margin-top: 15px;">
                    <input type="text" id="newSongId" placeholder="歌曲編號">
                    <input type="text" id="newSongName" placeholder="歌曲名稱">
                    <input type="text" id="newSongLang" placeholder="歌曲語言" title="國、台、英" list="langList">
                    <datalist id="langList">
                        <option value="國">
                        <option value="台">
                        <option value="英">
                    </datalist>
                    <input type="text" id="newSongSinger" placeholder="歌手">
                    <button id="addSongBtn" class="btn">新增歌曲</button>
                </div>
                <div style="margin-top: 15px;">
                    <button id="loadFromSheetBtn" class="btn">從Google Sheet載入歌單</button>
                </div>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>
</html>
